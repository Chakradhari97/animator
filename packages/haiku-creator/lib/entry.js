'use strict';

var _carbonite = require('haiku-serialization/src/utils/carbonite');

(function () {
  if (process.env.HAIKU_RELEASE_ENVIRONMENT === 'production' || process.env.HAIKU_RELEASE_ENVIRONMENT === 'staging') {
    window.Raven.config('https://07b703c10ea14681a29a1a870c28e84a@sentry.io/226383', {
      environment: process.env.HAIKU_RELEASE_ENVIRONMENT || 'development',
      release: process.env.HAIKU_RELEASE_VERSION,
      dataCallback: _carbonite.sentryCallback
    }).install();
    window.Raven.context(function () {
      go();
    });
  } else {
    go();
  }

  function go() {
    var electron = require('electron');
    var setup = require('./dom').default;
    electron.ipcRenderer.on('haiku', function (event, haiku) {
      return setup('creator', haiku);
    });
  }
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbnRyeS5qcyJdLCJuYW1lcyI6WyJwcm9jZXNzIiwiZW52IiwiSEFJS1VfUkVMRUFTRV9FTlZJUk9OTUVOVCIsIndpbmRvdyIsIlJhdmVuIiwiY29uZmlnIiwiZW52aXJvbm1lbnQiLCJyZWxlYXNlIiwiSEFJS1VfUkVMRUFTRV9WRVJTSU9OIiwiZGF0YUNhbGxiYWNrIiwiaW5zdGFsbCIsImNvbnRleHQiLCJnbyIsImVsZWN0cm9uIiwicmVxdWlyZSIsInNldHVwIiwiZGVmYXVsdCIsImlwY1JlbmRlcmVyIiwib24iLCJldmVudCIsImhhaWt1Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUVDLGFBQVk7QUFDWCxNQUFJQSxRQUFRQyxHQUFSLENBQVlDLHlCQUFaLEtBQTBDLFlBQTFDLElBQTBERixRQUFRQyxHQUFSLENBQVlDLHlCQUFaLEtBQTBDLFNBQXhHLEVBQW1IO0FBQ2pIQyxXQUFPQyxLQUFQLENBQWFDLE1BQWIsQ0FBb0IsMkRBQXBCLEVBQWlGO0FBQy9FQyxtQkFBYU4sUUFBUUMsR0FBUixDQUFZQyx5QkFBWixJQUF5QyxhQUR5QjtBQUUvRUssZUFBU1AsUUFBUUMsR0FBUixDQUFZTyxxQkFGMEQ7QUFHL0VDO0FBSCtFLEtBQWpGLEVBSUdDLE9BSkg7QUFLQVAsV0FBT0MsS0FBUCxDQUFhTyxPQUFiLENBQXFCLFlBQVk7QUFDL0JDO0FBQ0QsS0FGRDtBQUdELEdBVEQsTUFTTztBQUNMQTtBQUNEOztBQUVELFdBQVNBLEVBQVQsR0FBZTtBQUNiLFFBQUlDLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsUUFBSUMsUUFBUUQsUUFBUSxPQUFSLEVBQWlCRSxPQUE3QjtBQUNBSCxhQUFTSSxXQUFULENBQXFCQyxFQUFyQixDQUF3QixPQUF4QixFQUFpQyxVQUFDQyxLQUFELEVBQVFDLEtBQVIsRUFBa0I7QUFDakQsYUFBT0wsTUFBTSxTQUFOLEVBQWlCSyxLQUFqQixDQUFQO0FBQ0QsS0FGRDtBQUdEO0FBQ0YsQ0FyQkEsR0FBRCIsImZpbGUiOiJlbnRyeS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7c2VudHJ5Q2FsbGJhY2t9IGZyb20gJ2hhaWt1LXNlcmlhbGl6YXRpb24vc3JjL3V0aWxzL2NhcmJvbml0ZSdcblxuKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHByb2Nlc3MuZW52LkhBSUtVX1JFTEVBU0VfRU5WSVJPTk1FTlQgPT09ICdwcm9kdWN0aW9uJyB8fCBwcm9jZXNzLmVudi5IQUlLVV9SRUxFQVNFX0VOVklST05NRU5UID09PSAnc3RhZ2luZycpIHtcbiAgICB3aW5kb3cuUmF2ZW4uY29uZmlnKCdodHRwczovLzA3YjcwM2MxMGVhMTQ2ODFhMjlhMWE4NzBjMjhlODRhQHNlbnRyeS5pby8yMjYzODMnLCB7XG4gICAgICBlbnZpcm9ubWVudDogcHJvY2Vzcy5lbnYuSEFJS1VfUkVMRUFTRV9FTlZJUk9OTUVOVCB8fCAnZGV2ZWxvcG1lbnQnLFxuICAgICAgcmVsZWFzZTogcHJvY2Vzcy5lbnYuSEFJS1VfUkVMRUFTRV9WRVJTSU9OLFxuICAgICAgZGF0YUNhbGxiYWNrOiBzZW50cnlDYWxsYmFja1xuICAgIH0pLmluc3RhbGwoKVxuICAgIHdpbmRvdy5SYXZlbi5jb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGdvKClcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIGdvKClcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvICgpIHtcbiAgICB2YXIgZWxlY3Ryb24gPSByZXF1aXJlKCdlbGVjdHJvbicpXG4gICAgdmFyIHNldHVwID0gcmVxdWlyZSgnLi9kb20nKS5kZWZhdWx0XG4gICAgZWxlY3Ryb24uaXBjUmVuZGVyZXIub24oJ2hhaWt1JywgKGV2ZW50LCBoYWlrdSkgPT4ge1xuICAgICAgcmV0dXJuIHNldHVwKCdjcmVhdG9yJywgaGFpa3UpXG4gICAgfSlcbiAgfVxufSgpKVxuIl19
{"version":3,"sources":["../src/envInfo.js"],"names":["envInfo","args","_","subcommand","shift","flags","$0","folder","sep","resolve","join","process","cwd","socket","port","host","out"],"mappings":";;;;;kBAIwBA,O;;AAJxB;;;;AACA;;AACA;;;;AAEe,SAASA,OAAT,GAAoB;AACjC,MAAMC,OAAO,mBAAM,YAAKC,CAAX,CAAb;AACA,MAAMC,aAAaF,KAAKG,KAAL,EAAnB;AACA,MAAMC,QAAQ,+BAAd;AACA,SAAOA,MAAMH,CAAb;AACA,SAAOG,MAAMC,EAAb;;AAEA,MAAIC,SAASF,MAAME,MAAnB;AACA,MAAIA,UAAUA,OAAO,CAAP,MAAc,eAAKC,GAAjC,EAAsC;AACpC,QAAI,eAAKC,OAAL,CAAaF,MAAb,MAAyBA,MAA7B,EAAqC;AACnCA,eAAS,eAAKG,IAAL,CAAUC,QAAQC,GAAR,EAAV,EAAyBL,UAAU,GAAnC,CAAT;AACD;AACF;;AAED,MAAIM,SAASR,MAAMQ,MAAN,IAAgB,EAA7B;;AAEA;AACA,MAAIR,MAAMS,IAAV,EAAgB;AACdD,WAAOC,IAAP,GAAcT,MAAMS,IAApB;AACD;;AAED;AACA,MAAIT,MAAMU,IAAV,EAAgB;AACdF,WAAOE,IAAP,GAAcV,MAAMU,IAApB;AACD;;AAED,MAAIC,MAAM,EAAEf,UAAF,EAAQE,sBAAR,EAAoBE,YAApB,EAA2BE,cAA3B,EAAmCM,cAAnC,EAAV;;AAEA,SAAOG,GAAP;AACD","file":"envInfo.js","sourcesContent":["import path from 'path'\nimport { argv } from 'yargs'\nimport { clone } from 'lodash'\n\nexport default function envInfo () {\n  const args = clone(argv._)\n  const subcommand = args.shift()\n  const flags = clone(argv)\n  delete flags._\n  delete flags.$0\n\n  let folder = flags.folder\n  if (folder && folder[0] !== path.sep) {\n    if (path.resolve(folder) !== folder) {\n      folder = path.join(process.cwd(), folder || '.')\n    }\n  }\n\n  let socket = flags.socket || {}\n\n  // Let the user specify --port=1234\n  if (flags.port) {\n    socket.port = flags.port\n  }\n\n  // Let the user specify --host=0.0.0.0\n  if (flags.host) {\n    socket.host = flags.host\n  }\n\n  let out = { args, subcommand, flags, folder, socket }\n\n  return out\n}\n"]}